<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Formulário Exemplo</title>
</h:head>

<h:body>

	<h1>Cadastro de Pessoa</h1>
	
	<h:form id="form-pessoa">

		<p:messages id="messages" showDetail="false" closable="true" showIcon="false">
            <p:autoUpdate/>
        </p:messages>
        
		<p:panelGrid id="panel" columns="2" style="margin: 10px">
			<p:outputLabel for="input-nome" value="Nome"/>
			<p:inputText id="input-nome" value="#{pessoaBean.pessoa.nome}" required="true" requiredMessage="Nome: Campo obrigatório" />
			
			<p:outputLabel for="input-cpf" value="CPF" />
			<p:inputMask id="input-cpf" value="#{pessoaBean.pessoa.cpf}" mask="999.999.999-99" required="true" requiredMessage="CPF: Campo obrigatório" validateMask="true" />
			
			<p:outputLabel for="input-cidade" value="Cidade" />
			<p:selectOneMenu id="input-cidade" value="#{pessoaBean.pessoa.cidade}" required="true" requiredMessage="Cidade: Campo obrigatório" >
				<f:selectItem itemLabel="Selecione" itemValue="" />
				<f:selectItem itemLabel="Florianópolis" itemValue="FLN" />
				<f:selectItem itemLabel="Brasília" itemValue="BSB" />
				<f:selectItem itemLabel="São Paulo" itemValue="SPO" />
				<f:selectItem itemLabel="Rio de Janeiro" itemValue="RJO" />
				<f:selectItem itemLabel="Porto Alegre" itemValue="POA" />
			</p:selectOneMenu>
			
			<p:outputLabel for="input-dataNascimento" value="Data de Nascimento" />
			<p:inputMask id="input-dataNascimento" value="#{pessoaBean.pessoa.dataDeNascimento}" mask="99/99/9999" >
				<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
			</p:inputMask>
			
			<p:outputLabel for="input-dataInscricao" value="Data de Inscrição" />
			<p:datePicker id="input-dataInscricao" value="#{pessoaBean.pessoa.dataDeInscricao}" pattern="dd/MM/yyyy" />
				
			<p:outputLabel for="input-salario" value="Salário" />
			<p:inputNumber id="input-salario" value="#{pessoaBean.pessoa.salario}" symbol="R$ " decimalSeparator="," thousandSeparator="." />
			
			<p:outputLabel for="input-nota" value="Nota" />
			<p:spinner id="input-nota" value="#{pessoaBean.pessoa.nota}" stepFactor="0.5" min="0" max="10" />
			
		</p:panelGrid>
		
		<p:commandButton type="submit" value="Cadastrar" icon="pi pi-check" action="#{pessoaBean.adicionarPessoa}" update="panel table-pessoas" style="margin-right: 5px" />
		<p:commandButton type="reset" styleClass="ui-button-secondary" value="Limpar" icon="pi pi-times" /> 		
	</h:form>
	
	<br/>
                
	<p:dataTable value="#{pessoaBean.pessoas}" var="p" id="table-pessoas" emptyMessage="Sem registros" allowUnsorting="true" sortMode="single">
		<p:column headerText="Nome" sortBy="#{p.nome}">
			<h:outputText value="#{p.nome}" />
		</p:column>
		<p:column headerText="CPF">
			<h:outputText value="#{p.cpf}" />
		</p:column>
		<p:column headerText="Cidade">
			<h:outputText value="#{p.cidade}" />
		</p:column>
		<p:column headerText="Data de Nascimento">
			<h:outputText value="#{p.dataDeNascimento}"> 
				<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
			</h:outputText>
		</p:column>
		<p:column headerText="Data de Inscricao">
			<h:outputText value="#{p.dataDeInscricao}" >
				<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
			</h:outputText>
		</p:column>
		<p:column headerText="Salário">
			<h:outputText value="#{p.salario}" />
		</p:column>
		<p:column headerText="Nota">
			<h:outputText value="#{p.nota}" />
		</p:column>
	</p:dataTable>

</h:body>

</html>